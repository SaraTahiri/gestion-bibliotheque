/* package view;

import model.*;
import view.*;
import controller.*;

public class RetourTest  {
    public static void main(String[] args) {
        RetourModel retourModel = new RetourModel("retours.csv");
        RetourFrame frame = new RetourFrame();
        RetourController controller = new RetourController(frame, retourModel);
        frame.setVisible(true);
    }
} */
/*package view;

import model.*;
import java.time.LocalDate;

import controller.RetourController;

public class RetourTest {
    public static void main(String[] args) {
        // Création des retours avec les détails nécessaires
        Retour retour1 = new Retour(1, 1, "Adam", 
                101, "Java Programming", 
                LocalDate.of(2024, 1, 1), 
                LocalDate.of(2024, 1, 15), 
                null);

        Retour retour2 = new Retour(2, 2, "mery", 
                102, "Data Structures", 
                LocalDate.of(2024, 1, 5), 
                LocalDate.of(2024, 1, 20), 
                null);

        
        RetourModel retourModel = new RetourModel("retours.csv");
        RetourFrame frame = new RetourFrame();
        RetourController controller = new RetourController(frame, retourModel);
        controller.updateTableData();
        frame.setVisible(true);
    }
}
*/
package view;
import controller.RetourController;
import model.ModeleEmprunt;
import model.RetourModel;

package view;

import controller.RetourController;
import model.ModeleEmprunt;
import model.Retour;
import model.RetourModel;

public class RetourTest {
    public static void main(String[] args) {
        // Charger les emprunts
        ModeleEmprunt modeleEmprunt = new ModeleEmprunt("emprunts.csv");

        // Créer le modèle des retours
        RetourModel retourModel = new RetourModel("retours.csv");

        // Ajouter les retours manuellement depuis les emprunts
        modeleEmprunt.listerEmprunt().forEach(emprunt -> {
            Retour retour = new Retour(
                emprunt.getId(),
                emprunt.getIduser(),
                "Nom Utilisateur", // Remplacez avec des données réelles si possible
                emprunt.getLivre(),
                "Titre Livre", // Remplacez avec des données réelles si possible
                emprunt.getDateEmprunt(),
                emprunt.getDateRetourPrevue(),
                null // La date de retour effective est initialement null
            );
            retourModel.ajouterRetour(retour); // Ajouter le retour au modèle
        });

        // Créer la vue
        RetourFrame frame = new RetourFrame();

        // Créer le contrôleur et le connecter
        RetourController controller = new RetourController(frame, retourModel);

        // Afficher la fenêtre
        frame.setVisible(true);
    }
}
